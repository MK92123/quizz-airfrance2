<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Quiz Air France</title>
  <style>
    :root {
      --bg: #f6f7fb;
      --card: #ffffff;
      --txt: #111827;
      --muted: #6b7280;
      --ok: #0f766e;
      --bad: #b91c1c;
      --pri: #0a66ff;
    }
    body {
      margin: 0; padding: 2rem;
      background: var(--bg);
      color: var(--txt);
      font: 16px/1.5 system-ui, -apple-system, Segoe UI, Roboto, Arial;
    }
    .wrap {
      max-width: 980px;
      margin: 0 auto;
      background: var(--card);
      border-radius: 16px;
      box-shadow: 0 8px 24px rgba(0,0,0,.06);
      padding: 24px;
    }
    header {
      display: flex; flex-direction: column; align-items: center; gap: .35rem;
      margin-bottom: 8px;
    }
    header img {
      max-width: 220px; height: auto; display: block;
    }
    h1 {
      margin: 4px 0 0; text-align: center;
    }
    .sub {
      color: var(--muted);
      text-align: center;
      margin: 6px 0 12px;
      display: flex;
      gap: 12px;
      justify-content: center;
      flex-wrap: wrap;
    }
    .pill {
      background: #eef2ff;
      color: #1e3a8a;
      border-radius: 999px;
      padding: 4px 10px;
      font-size: .9rem;
    }
    .progress {
      height: 10px;
      background: #e5e7eb;
      border-radius: 99px;
      overflow: hidden;
      margin: 8px 0 18px;
    }
    .bar {
      height: 100%;
      width: 0;
      background: var(--pri);
      transition: width .25s;
    }
    .q {
      font-weight: 700;
      margin: 10px 0 12px;
    }
    ul {
      list-style: none;
      padding: 0;
      margin: 0;
    }
    li {
      margin: .4rem 0;
    }
    label {
      display: flex;
      gap: .6rem;
      align-items: flex-start;
      cursor: pointer;
    }
    input[type=radio] {
      margin-top: .25rem;
    }
    .feed {
      display: none;
      margin-top: 12px;
      border-radius: 10px;
      padding: 10px;
    }
    .ok {
      display: block;
      background: #e7f7f3;
      color: #065f46;
    }
    .bad {
      display: block;
      background: #fdeaea;
      color: #7f1d1d;
    }
    .row {
      display: flex;
      gap: 10px;
      justify-content: space-between;
      margin-top: 16px;
      flex-wrap: wrap;
    }
    button {
      border: 0;
      border-radius: 10px;
      padding: 10px 14px;
      cursor: pointer;
      font-weight: 600;
    }
    #next {
      background: var(--pri);
      color: #fff;
    }
    #next:disabled {
      opacity: .5;
      cursor: not-allowed;
    }
    #reset {
      background: #6b7280;
      color: #fff;
    }
    .score {
      margin-top: 8px;
      text-align: center;
      color: var(--muted);
    }
    footer {
      margin-top: 18px;
      text-align: center;
      color: var(--muted);
      font-size: .9rem;
    }
    .timeup {
      color: #b91c1c;
      font-weight: 700;
    }
  </style>
</head>
<body>
  <div class="wrap">
    <header>
      <img src="https://th.bing.com/th/id/R.e981a076438938f94b4bdef2cc28ed8c?rik=Tl8jWSDOnbPScw&riu=http%3a%2f%2fpluspng.com%2fimg-png%2fair-france-logo-png-air-france-logo-airfrance-skyteam-symbol-5650.png&ehk=%2bzIUC9nKAkbnVe1Gq4lsFCWxLCR3mhuQeeenhYbyNyQ%3d&risl=&pid=ImgRaw&r=0" alt="Air France Logo" onerror="this.style.display='none'">
      <h1>Quiz Air France</h1>
    </header>
	<header>
  <p id="disclaimer" style="
    font-size: 0.9rem;
    color: #b91c1c;
    background-color: #fee2e2;
    border: 1px solid #b91c1c;
    padding: 8px 12px;
    border-radius: 8px;
    max-width: 100%;
    text-align: center;
    margin-bottom: 12px;
    font-weight: 700;
  ">
Propriété exclusive d'un Agent AF. Toute diffusion ou reproduction non autorisée est interdite. En cas de fuite, merci de contacter kneycie@gmail.com
  Toute diffusion ou utilisation non autorisée est interdite. 
  </p>

  <img src="..." alt="Air France Logo" onerror="this.style.display='none'">
  <h1>Quiz Air France</h1>
</header>


    <div class="sub">
      <span id="meta" class="pill"></span>
      <span id="timer" class="pill">Temps restant : 30:00</span>
      <span id="liveScore" class="pill"></span>
    </div>
    <div class="progress"><div id="bar" class="bar"></div></div>
    <div id="quiz"></div>
    <div class="row">
      <button id="reset" onclick="resetQuiz()">Recommencer (nouvel ordre)</button>
      <button id="next" onclick="nextQ()" disabled>Suivant</button>
    </div>
    <div id="score" class="score"></div>
    <footer>Version 4.0 — ordre aléatoire • chrono 30:00 • feedback instantané • score final</footer>
  </div>

<script>
const BASE = [
  {t:"Un passager à destination de Tel-Aviv peut-il obtenir sa carte d’embarquement sans contrôle Securitas ?", o:["Oui","Non","Seulement avec autorisation spéciale","Uniquement pour les vols directs"], c:1, e:"Contrôle Securitas obligatoire avant émission de la BP pour Tel-Aviv."},
  {t:"Les batteries externes (power banks) sont-elles autorisées dans les coffres cabines ?", o:["Non, sauf sur soi","Oui sans restriction","Seulement si inférieures à 100Wh","Uniquement dans les bagages en soute"], c:0, e:"Power banks admis en cabine mais sur soi. Strictement interdites en soute."},
  {t:"Quelle est la franchise bagage standard pour un client Business ?", o:["2 x 32 kg","3 x 23 kg","1 x 32 kg","2 x 23 kg"], c:0, e:"En Business, la franchise est de 2 bagages de 32 kg chacun."},
  {t:"Qu’est-ce que le 'wave excess' dans la gestion des bagages ?", o:["Une tolérance de poids cumulée entre plusieurs bagages","Un bagage hors dimensions","Un excès de poids individuel","Un type de surcharge appliquée aux passagers"], c:0, e:"Le wave excess permet de cumuler les poids de plusieurs bagages sous certaines conditions."},
  {t:"Quand utilise-t-on le waive 'TOLERANCE POOL AFRICA' ?", o:["Pour cumuler le poids de deux bagages en soute en Afrique","Pour les bagages perdus en transit","Pour les équipements médicaux","Pour les sacs de golf"], c:0, e:"Ce waive s’applique pour le cumul de poids des bagages en Afrique."},
  {t:"Quelle est la limite de poids pour un AVIH (animal en soute) ?", o:["75 kg avec caisse","50 kg avec caisse","100 kg sans caisse","60 kg avec caisse"], c:0, e:"La limite AVIH est de 75 kg incluant la caisse."},
  {t:"Un mineur non accompagné (UM) est enregistré dans quelle zone au Terminal 2E ?", o:["Zone 14","Zone 12","Zone 8","Zone 3"], c:0, e:"Les UM sont enregistrés en zone 14 au Terminal 2E."},
  {t:"Quels objets sont interdits dans la soute pour des raisons de sécurité ?", o:["Batteries lithium >100 Wh","Liquides en grande quantité","Allumettes de sûreté","Appareils électroniques"], c:0, e:"Les batteries lithium >100 Wh sont interdites en soute."},
  {t:"Un passager en Business peut-il enregistrer un troisième bagage sans supplément ?", o:["Non","Oui si poids total < 90 kg","Oui, toujours","Seulement sur certains vols"], c:0, e:"La franchise Business est limitée à 2 bagages."},
  {t:"Quelle est la procédure si un bagage n’arrive pas à temps pour un correspondance ?", o:["Informer le client et étiqueter RUSH","Ignorer le problème","Renvoyer le bagage à la destination finale sans prévenir","Compensation automatique"], c:0, e:"Le bagage doit être identifié et le client informé avec une étiquette RUSH."},

  {t:"Comment est géré un client sans visa valide en zone de transit ?", o:["Interdiction de sortie de l'aéroport","Laisser passer avec document provisoire","Logement à l’hôtel à la charge du client","Réacheminement immédiat"], c:0, e:"Sans visa, le client ne peut pas sortir de l'aéroport."},
  {t:"Quelles sont les priorités d’embarquement pour les PMR ?", o:["Embarquement prioritaire","Embarquement standard","Embarquement après Business","Embarquement en dernier"], c:0, e:"Les PMR bénéficient d’un embarquement prioritaire."},
  {t:"Quelles sont les conditions pour transporter un PETC en cabine ?", o:["Dimensions sous le siège et poids max","Pas de limite si calme","Pas besoin de caisse","Transport interdit"], c:0, e:"Le PETC doit tenir sous le siège et respecter le poids maximum."},
  {t:"Que signifie l’étiquette ‘RUSH’ sur un bagage ?", o:["Bagage prioritaire à traiter","Bagage perdu","Bagage endommagé","Bagage retardé"], c:0, e:"L’étiquette RUSH indique un bagage prioritaire."},
  {t:"Un passager avec un billet prime peut-il bénéficier d’un surclassement ?", o:["Non","Oui, sous conditions","Oui, toujours","Non, sauf exceptions"], c:0, e:"Les billets prime sont généralement exclus des surclassements."},
  {t:"Quel est le poids maximal autorisé par bagage en classe économique ?", o:["23 kg","20 kg","25 kg","32 kg"], c:0, e:"En économique, la franchise standard est de 23 kg par bagage."},
  {t:"Quelles sont les règles pour le transport d’allumettes en cabine ?", o:["Une seule allumette de sûreté sur soi","Allumettes interdites","Nombre illimité autorisé","Allumettes uniquement en soute"], c:0, e:"Une allumette de sûreté est tolérée sur soi."},
  {t:"Que doit faire un agent en cas de bagage abandonné suspect ?", o:["Alerter sûreté et sécuriser le périmètre","Essayer d’ouvrir","Déplacer le bagage","Ignorer"], c:0, e:"Ne jamais manipuler un bagage suspect, alerter la sûreté."},
  {t:"Quel est le rôle du CLD ?", o:["Coordination Logistique et Détresse","Client Liaison Desk","Contrôle Ligne Directe","Centre Logistique Distribution"], c:0, e:"Le CLD coordonne la logistique et les situations de détresse."},
  {t:"Quelle est la procédure en cas d’annulation de vol jour J ?", o:["Réacheminement immédiat et assistance","Remboursement automatique","Attente au guichet","Aucune"], c:0, e:"La compagnie doit assister et réacheminer le client."},

  // 20-30
  {t:"Quel délai est conseillé entre deux vols pour assurer le transfert des bagages ?", o:["2 heures minimum","1 heure","3 heures","4 heures"], c:0, e:"Minimum 2 heures pour transfert bagages fiable."},
  {t:"Que couvre le waive 'GOLF' ?", o:["Sac de golf pour certains passagers","Matériel médical","Franchise militaire","Boite de fleurs"], c:0, e:"Le waive GOLF permet le transport du sac de golf pour certains clients."},
  {t:"Le waive 'MEDICAL' concerne :", o:["Matériel médical pour clients PWD","Équipements sportifs","Bagages surdimensionnés","Animaux"], c:0, e:"Ce waive est dédié au matériel médical."},
  {t:"Que signifie le waive 'WEAPON' ?", o:["Deuxième pièce pour armes et munitions","Interdiction totale","Transport gratuit d’armes","Franchise spéciale vol"], c:0, e:"Permet un bagage supplémentaire pour armes et munitions séparées."},
  {t:"Quel est l’âge minimum requis pour un AVIH ?", o:["15 semaines","8 semaines","10 semaines","20 semaines"], c:0, e:"Minimum 15 semaines et vaccins requis."},
  {t:"Quels chiens sont interdits en soute ?", o:["Races brachycéphales (pit-bull, tosa)","Tous les chiens de grande taille","Chiens LOF","Chiens d’assistance"], c:0, e:"Les races brachycéphales sont interdites en soute."},
  {t:"Quelle est la tolérance pour un bagage dépassant légèrement le poids autorisé ?", o:["TOLERANCE 1KG","COM EMPOWERMENT","WAVE EXCESS","DISCREPANCY"], c:0, e:"TOLERANCE 1KG autorise jusqu’à 1 kg de dépassement."},
  {t:"Que signifie ‘MISCO’ ?", o:["Mise en correspondance","Annulation de vol","Service client prioritaire","Réservation de groupe"], c:0, e:"MISCO signifie mise en correspondance."},
  {t:"Quelles sont les consignes pour transporter une batterie lithium endommagée ?", o:["Transport refusé","Transport autorisé isolée","Transport limité à la cabine","Transport autorisé en soute"], c:0, e:"Le transport d’une batterie lithium endommagée est interdit."},
  {t:"Comment est attribuée la priorité pour l’hébergement DBC ?", o:["Priorité aux PMR, familles, vulnérables","Ordre d’arrivée","Premier arrivé, premier servi","Clients sans bagages"], c:0, e:"Priorité donnée aux PMR, familles et clients vulnérables."},

  // 31-40
  {t:"Quelles sont les situations où l’empowerment est pertinent ?", o:["Petit geste commercial","Corriger erreur Air France","Dénier systématiquement CE261","Adapter accès SkyPriority PMR"], c:[0,1,3], e:"Empowerment utilisé pour gestes commerciaux dans le cadre."},
  {t:"Qui valide l’empowerment opérationnel ?", o:["Manager opérationnel","Directeur d’escale","PNC seul","Pas de contrôle"], c:0, e:"Validation par manager opérationnel selon procédure."},
  {t:"Quelle est la priorité d’embarquement pour les PMR ?", o:["Embarquement prioritaire","Embarquement normal","Dernier embarquement","Business uniquement"], c:0, e:"Les PMR embarquent en priorité."},
  {t:"Que signifie une étiquette ‘RUSH’ ?", o:["Bagage prioritaire","Bagage perdu","Bagage endommagé","Bagage retardé"], c:0, e:"Étiquette ‘RUSH’ signifie traitement prioritaire."},
  {t:"Combien de bagages cabine un client Business peut-il emporter ?", o:["2 x 18 kg","1 x 15 kg","2 x 12 kg","3 x 18 kg"], c:0, e:"2 bagages cabine de 18 kg chacun autorisés en Business."},
  {t:"Que faire en cas de bagage non transférable à temps ?", o:["Informer client + tag RUSH","Ignorer","Détruire étiquette","Annuler voyage"], c:0, e:"Informer client et traiter avec étiquette RUSH."},
  {t:"Quelles sont les règles pour transporter un scooter électrique ?", o:["Interdit aux passagers","Autorisé en cabine déchargé","Toujours autorisé","Autorisé en soute"], c:0, e:"Souvent interdit aux passagers pour risque lithium."},
  {t:"Quelle est la procédure si un client filme un agent sans autorisation ?", o:["Informer refus + consigner + alerter","Ignorer","Autoriser","Avertir client"], c:0, e:"Refus de filmer; consigner et alerter."},
  {t:"Que faire en cas d’embarquement d’un client sans AST pour un mineur ?", o:["Refuser embarquement","Accepter","Informer agent sécurité","Demander autorisation parentale"], c:0, e:"L’AST est obligatoire pour mineurs non accompagnés."},
  {t:"Quelle est la durée du chronomètre dans le quiz ?", o:["30 minutes","20 minutes","45 minutes","15 minutes"], c:0, e:"Le chronomètre est réglé à 30 minutes."},

  // 41-50
  {t:"Quel waive est utilisé pour les sacs de golf ?", o:["GOLF","MEDICAL","COM EMPOWERMENT","TECHNICAL"], c:0, e:"Le waive GOLF est dédié aux sacs de golf."},
  {t:"Quel waive permet un geste commercial sur franchise bagages ?", o:["COM EMPOWERMENT","WAVE EXCESS","TECHNICAL","DISCREPANCY"], c:0, e:"COM EMPOWERMENT permet des gestes commerciaux."},
  {t:"Quels documents sont requis pour un AVIH ?", o:["Passeport animal, certificats sanitaires","Carte d’identité","Passeport client","Certificat bancaire"], c:0, e:"Documents vétérinaires obligatoires pour AVIH."},
  {t:"Que signifie PAM ?", o:["Procédures d’Assistance et Mise en correspondance","Programme d’aide membre","Plan d’action manager","Politique assurance"], c:0, e:"PAM signifie Procédures d’Assistance et Mise en correspondance."},
  {t:"Qui peut autoriser un ‘process override’ en escale ?", o:["Manager opérationnel","Chef de cabine","Agent au guichet","Client"], c:0, e:"Le manager opérationnel a cette autorité."},
  {t:"Quelles sont les actions à prendre en cas d’annulation jour J ?", o:["Informer client, réacheminement, assistance","Remboursement automatique","Silence","Offrir prestations sans condition"], c:0, e:"Obligation d’assistance et réacheminement."},
  {t:"Que signifie ‘WCLB’ ?", o:["Fauteuil roulant batterie lithium","Fauteuil manuel","Fauteuil batterie sèche","Fauteuil électrique"], c:0, e:"WCLB = Wheelchair Lithium Battery."},
  {t:"Quelle zone au Terminal F est dédiée aux UM ?", o:["Zone 1","Zone 2","Zone 4","Zone 7"], c:0, e:"Zone 1 au Terminal F est dédiée aux UM."},
  {t:"Quel est le poids maximal d’un bagage cabine en Business ?", o:["2 x 8 kg","2 x 12 kg","1 x 8 kg","1 x 12 kg"], c:0, e:"En Business, 2 bagages cabine de 8 kg autorisés."},
  {t:"Quel est le délai conseillé pour transfert de bagages ?", o:["2 heures","1 heure","3 heures","4 heures"], c:0, e:"2 heures minimum pour un transfert fiable."},

  // 51-60
  {t:"Quel waive PAM est utilisé pour un surclassement payant ?", o:["TECHNICAL – PAIDUPGRADE","COM EMPOWERMENT","DISCREPANCY","WAVE EXCESS"], c:0, e:"TECHNICAL – PAIDUPGRADE couvre les surclassements payants."},
  {t:"Quel est l’objectif principal de la gestion du ‘wave excess’ ?", o:["Fluidifier files d’attente et éviter micro-encaissements","Augmenter recettes","Créer exceptions","Ralentir flux"], c:0, e:"Wave excess vise fluidité et efficacité."},
  {t:"Que faire si un client est manquant à la porte ?", o:["Procédure client manquant et annonces","Fermer porte immédiatement","Ignorer","Appeler sécurité"], c:0, e:"Procédure obligatoire pour client manquant."},
  {t:"Quelle est la limite de poids d’un bagage en classe économique ?", o:["23 kg","32 kg","20 kg","25 kg"], c:0, e:"23 kg est la limite standard en économique."},
  {t:"Quels objets sont interdits en cabine ?", o:["Sprays auto-défense","Appareils électroniques","Liquides en petite quantité","Allumettes de sûreté"], c:0, e:"Sprays auto-défense interdits en cabine."},
  {t:"Que signifie le waive ‘DISCREPANCY – INTERLINE’ ?", o:["Bagage cabine non conforme en transit","Erreur de réservation","Problème technique","Retard de vol"], c:0, e:"Waive pour bagage non conforme en transit."},
  {t:"Combien de temps dure le quiz ?", o:["30 minutes","20 minutes","1 heure","45 minutes"], c:0, e:"Le quiz est chronométré sur 30 minutes."},
  {t:"Que doit faire un agent si un client filme sans autorisation ?", o:["Informer du refus, consigner, alerter canal dédié","Laisser faire","Autoriser","Intervenir verbalement"], c:0, e:"Interdiction de filmer, consigner et alerter."},
  {t:"Quel est le poids maximal autorisé pour un AVIH ?", o:["75 kg","50 kg","100 kg","60 kg"], c:0, e:"Limite AVIH de 75 kg incluant la caisse."},
  {t:"Quelles batteries sont interdites en soute ?", o:["Lithium >100 Wh","Lithium <100 Wh","Alcalines","Rechargeables"], c:0, e:"Batteries lithium >100 Wh interdites en soute."},

  // 61-70
  {t:"Quelle est la règle pour les liquides en cabine ?", o:["100 ml maximum par contenant","Pas de limite","1 litre maximum total","500 ml maximum total"], c:0, e:"Limite de 100 ml par contenant, sac 1 litre."},
  {t:"Que signifie ‘WCLB’ ?", o:["Fauteuil roulant batterie lithium","Fauteuil manuel","Fauteuil batterie sèche","Fauteuil électrique"], c:0, e:"WCLB = Wheelchair Lithium Battery."},
  {t:"Quelle est la procédure pour un bagage non transféré à temps ?", o:["Informer le client et taguer RUSH","Ignorer","Détruire le tag","Réacheminer plus tard"], c:0, e:"Informer client et appliquer étiquette RUSH."},
  {t:"Que signifie PAM ?", o:["Procédures d’Assistance et Mise en correspondance","Programme d’aide membre","Plan d’action manager","Politique assurance"], c:0, e:"PAM = Procédures d’Assistance et Mise en correspondance."},
  {t:"Quel est le délai minimum entre deux vols pour transfert bagages ?", o:["2 heures","1 heure","3 heures","4 heures"], c:0, e:"Minimum 2 heures recommandé."},
  {t:"Que faire en cas de vol annulé jour J ?", o:["Réacheminement immédiat + assistance","Remboursement automatique","Silence","Attente au guichet"], c:0, e:"Obligation d’assistance et réacheminement."},
  {t:"Quels passagers bénéficient prioritairement d’un hébergement DBC ?", o:["PMR, familles, clients vulnérables","Tous","Clients business","Voyageurs fréquents"], c:0, e:"Priorité aux PMR, familles et clients vulnérables."},
  {t:"Quel waive est utilisé pour accorder un geste commercial sur franchise bagages ?", o:["COM EMPOWERMENT","TECHNICAL","DISCREPANCY","WAVE EXCESS"], c:0, e:"COM EMPOWERMENT pour gestes commerciaux."},
  {t:"Que signifie ‘ICP’ dans le livret ? ", o:["Interdiction, Consignes, Procédures","Instruction de conduite professionnelle","Intervention critique ponctuelle","Indicateur de contrôle personnel"], c:0, e:"ICP = Interdiction, Consignes, Procédures."},
  {t:"Quel est le poids maximal autorisé par bagage en classe économique ?", o:["23 kg","20 kg","32 kg","25 kg"], c:0, e:"23 kg est la limite standard."},

  // 71-80
  {t:"Quelle est la règle pour les sprays auto-défense ?", o:["Interdits en cabine","Autorisé en cabine","Autorisé en soute","Limité à 100 ml"], c:0, e:"Sprays auto-défense interdits en cabine."},
  {t:"Quel est l’âge minimum pour qu’un AVIH soit accepté ?", o:["15 semaines","10 semaines","8 semaines","20 semaines"], c:0, e:"Minimum 15 semaines et vaccins obligatoires."},
  {t:"Que faire si un client est manquant à la porte ?", o:["Suivre procédure client manquant et faire annonces","Fermer porte immédiatement","Ignorer","Appeler sécurité"], c:0, e:"Procédure et annonces obligatoires."},
  {t:"Que signifie ‘MISCO’ ?", o:["Mise en correspondance","Annulation de vol","Service client prioritaire","Réservation groupe"], c:0, e:"MISCO signifie mise en correspondance."},
  {t:"Quelles sont les consignes pour les allumettes ?", o:["Une seule allumette de sûreté sur soi autorisée","Interdites en cabine","Nombre illimité autorisé","Autorisé en soute"], c:0, e:"Une allumette de sûreté est tolérée sur soi."},
  {t:"Quelles sont les procédures pour la gestion des clients agressifs ?", o:["Suivre PAM, alerter sécurité","Ignorer","Répondre agressivement","Intervenir personnellement"], c:0, e:"Suivre procédure PAM et alerter la sécurité."},
  {t:"Quel est le poids total cumulé pour utiliser le waive Pool Africa ?", o:["2 x 23 kg = 46 kg","1 x 32 kg","2 x 20 kg","3 x 15 kg"], c:0, e:"Waive Pool Africa permet cumul jusqu’à 46 kg."},
  {t:"Que signifie ‘OPS – BOARDING’ ?", o:["Bagage cabine non conforme en transit prélevé en porte","Problème d’embarquement","Retard vol","Erreur réservation"], c:0, e:"Waive pour bagage cabine non conforme en transit."},
  {t:"Quels sont les critères pour un surclassement ?", o:["Disponibilité et statut","Automatique","Réservé aux clients fidèles","Jamais"], c:0, e:"Surclassement selon disponibilité et statut."},
  {t:"Que signifie le waive 'TECHNICAL – PAIDUPGRADE' ?", o:["Surclassement payant","Erreur technique","Geste commercial","Retard bagages"], c:0, e:"Waive dédié aux surclassements payants."},

  // 81-90
  {t:"Quelle est la procédure si un client est sans AST pour un mineur ?", o:["Refuser embarquement","Accepter","Informer agent sécurité","Demander autorisation parentale"], c:0, e:"AST obligatoire pour mineurs non accompagnés."},
  {t:"Quelles sont les règles pour le transport de batteries de rechange ?", o:["< 160 Wh autorisées en cabine","Interdites en cabine","Autorisé uniquement en soute","Autorisé sans restriction"], c:0, e:"Batteries >160 Wh interdites en cabine et soute."},
  {t:"Quel est le poids maximal d’un bagage pour un client Business en soute ?", o:["2 x 32 kg","3 x 23 kg","2 x 23 kg","1 x 32 kg"], c:0, e:"2 bagages de 32 kg chacun en Business."},
  {t:"Comment traiter un client misco sans visa ?", o:["Vérifier visa, sinon hébergement aéroport","Laisser passer","Réacheminer immédiatement","Loger chez collègue"], c:0, e:"Sans visa, hébergement ou réacheminement."},
  {t:"Que signifie ‘WCLB’ ?", o:["Fauteuil roulant batterie lithium","Fauteuil manuel","Fauteuil batterie sèche","Fauteuil électrique"], c:0, e:"WCLB = Wheelchair Lithium Battery."},
  {t:"Quelle zone du terminal est réservée aux UM ?", o:["Zone 14","Zone 12","Zone 8","Zone 3"], c:0, e:"UM au Terminal 2E en zone 14."},
  {t:"Quelle est la procédure pour les bagages en excès de poids ?", o:["Appliquer waive ou surcharge","Refuser embarquement","Détruire bagage","Transport gratuit"], c:0, e:"Waive ou surcharge selon règle."},
  {t:"Quel est le poids maximal autorisé pour un bagage en classe économique ?", o:["23 kg","20 kg","32 kg","25 kg"], c:0, e:"23 kg en classe économique."},
  {t:"Quelles sont les règles pour le transport des animaux en cabine ?", o:["Dimensions sous siège et poids limités","Pas de limite","Sans caisse","Interdit"], c:0, e:"Respect des dimensions et poids sous siège."},
  {t:"Quel est le délai recommandé pour le transfert des bagages ?", o:["2 heures","1 heure","3 heures","4 heures"], c:0, e:"2 heures minimum conseillé."},

  // 91-100
  {t:"Que signifie ‘COM – EMPOWERMENT’ ?", o:["Geste commercial validé par management","Erreur informatique","Retard bagages","Assistance PMR"], c:0, e:"Geste commercial dans cadre empowerment."},
  {t:"Quelles sont les consignes pour la gestion d’un bagage abandonné ?", o:["Alerter sûreté, ne pas toucher","Essayer d’ouvrir","Déplacer","Ignorer"], c:0, e:"Ne jamais manipuler un bagage suspect."},
  {t:"Que faire si un client filme un agent sans autorisation ?", o:["Informer, consigner, alerter","Laisser faire","Autoriser","Intervenir verbalement"], c:0, e:"Interdiction de filmer, consigner et alerter."},
  {t:"Quel est le poids autorisé pour un PETC en cabine ?", o:["Dimensions et poids limités sous siège","Pas de limite","Pas de caisse requise","Interdit"], c:0, e:"Le PETC doit être dans un contenant adapté sous le siège."},
  {t:"Quel est le poids maximal pour un AVIH ?", o:["75 kg","50 kg","100 kg","60 kg"], c:0, e:"Limite AVIH de 75 kg incluant la caisse."},
  {t:"Que faire en cas d’annulation de vol le jour même ?", o:["Assistance et réacheminement obligatoire","Remboursement automatique","Pas d’action","Attente au guichet"], c:0, e:"Assistance et réacheminement sont obligatoires."},
  {t:"Que signifie ‘ICP2’ ?", o:["Agressivité verbale ou physique légère","Avertissement verbal","Procédure d’exclusion","Licence temporaire"], c:0, e:"ICP2 correspond à agressivité légère."},
  {t:"Quel est le rôle du CLD ?", o:["Coordination logistique et assistance","Centre de liaison clients","Contrôle des lignes","Département sécurité"], c:0, e:"Coordination logistique et détresse."},
  {t:"Quelle est la tolérance pour un bagage dépassant légèrement le poids autorisé ?", o:["1 kg supplémentaire autorisé","5 kg supplémentaires","Aucune tolérance","2 kg supplémentaires"], c:0, e:"Tolérance de 1 kg sur le poids déclaré."},
  {t:"Quels passagers bénéficient de l’accès SkyPriority ?", o:["Clients Business et PMR","Tous les passagers","Seulement membres Flying Blue","Clients économiques"], c:0, e:"Clients Business et PMR bénéficient de SkyPriority."},

  // 101-110
  {t:"Comment doit être placée la mention ‘BIS’ sur une commande Ozion PMR ?", o:["Avant prénom","Avant nom","En commentaire","Non obligatoire"], c:0, e:"‘BIS’ doit précéder le prénom sur la commande."},
  {t:"Quelles sont les conditions pour un bagage smart luggage ?", o:["Batterie amovible retirée si en soute","Toujours interdit","Toujours autorisé","Batterie non amovible autorisée"], c:0, e:"La batterie amovible doit être retirée en soute."},
  {t:"Quelle est la procédure lors d’un affrètement last minute ?", o:["Procédure dédiée avec infos et services","Procédure standard","Refus","Libre"], c:0, e:"Respect des consignes spécifiques."},
  {t:"Que signifie ‘WAVE EXCESS’ ?", o:["Tolérance poids cumulée pour bagages","Excès individuel","Surcharge bagage cabine","Erreur informatique"], c:0, e:"Gestion d’excès de poids cumulés sur bagages."},
  {t:"Quelle est la priorité pour les conciergeries en enregistrement ?", o:["AF BeMyGuest & ADP Extime uniquement","Toute conciergerie","Pas de restriction","Libre accès"], c:0, e:"Accès restreint aux services autorisés."},
  {t:"Quel est le délai minimum recommandé pour un transfert bagage lors d’un réacheminement ?", o:["2 heures","1 heure","3 heures","4 heures"], c:0, e:"2 heures minimum conseillé."},
  {t:"Que faire en cas de surbooking ?", o:["Application des règles CE261 et assistance","Refuser l’embarquement sans compensation","Remboursement immédiat","Aucune procédure"], c:0, e:"Application des règles et assistance selon CE261."},
  {t:"Quelle est la limite de poids pour un bagage cabine en Business ?", o:["2 x 8 kg","2 x 12 kg","1 x 8 kg","1 x 12 kg"], c:0, e:"2 bagages cabine de 8 kg chacun en Business."},
  {t:"Quelles sont les exigences pour une caisse AVIH ?", o:["Rigide avec porte boulonnée, ventilation et verrou","Tissu","Bois simple","Plastique souple"], c:0, e:"Caisse rigide et sécurisée obligatoire."},
  {t:"Quel type de bagages bénéficie d’une étiquette ‘RUSH’ ?", o:["Bagages prioritaires non transférés à temps","Bagages perdus","Bagages endommagés","Bagages retardés"], c:0, e:"Bagages prioritaires à traiter rapidement."}
];






  // Fonction mélange
  function shuffle(array) {
    for (let i = array.length - 1; i > 0; i--) {
      const j = Math.floor(Math.random() * (i + 1));
      [array[i], array[j]] = [array[j], array[i]];
    }
    return array;
  }

  // Mélange options et recalcul index correct
  function shuffleOptions(q) {
    const pairs = q.o.map((text, idx) => ({ text, idx }));
    shuffle(pairs);
    q.o = pairs.map(p => p.text);
    q.c = pairs.findIndex(p => p.idx === q.c);
    return q;
  }

  let Q = [];
  let i = 0;
  let answered = false;
  let score = 0;
  let timer = 30 * 60; // 30 minutes en secondes
  let ticker = null;

  function initQuiz() {
    Q = BASE.map(q => ({ t: q.t, o: [...q.o], c: q.c, e: q.e })).map(shuffleOptions);
    shuffle(Q);
    i = 0; score = 0; answered = false;
    document.getElementById('next').disabled = true;
    render();
    startTimer();
  }

  function render() {
    const bar = document.getElementById('bar');
    const meta = document.getElementById('meta');
    const sc = document.getElementById('liveScore');
    const qn = Q[i];
    const total = Q.length;

    meta.textContent = `Question ${i + 1} / ${total}`;
    bar.style.width = `${Math.round(((i) / total) * 100)}%`;
    sc.textContent = `Score : ${score} / ${total}`;

    let wrap = `<div class="q">${qn.t}</div><ul>`;
    qn.o.forEach((opt, idx) => {
      wrap += `<li><label><input type="radio" name="opt" value="${idx}" onclick="pick(${idx})"> ${opt}</label></li>`;
    });
    wrap += `</ul><div id="feed" class="feed"></div>`;

    document.getElementById('quiz').innerHTML = wrap;
    answered = false;
    document.getElementById('next').disabled = true;
    updateTimerUI();
  }

  function pick(sel) {
    if (answered) return;
    answered = true;
    const qn = Q[i];
    const feed = document.getElementById('feed');
    if (sel === qn.c) {
      score++;
      feed.className = 'feed ok';
      feed.textContent = `Bonne réponse. ${qn.e}`;
    } else {
      feed.className = 'feed bad';
      feed.textContent = `Mauvaise réponse. Bonne réponse : "${qn.o[qn.c]}". ${qn.e}`;
    }
    document.getElementById('next').disabled = false;
    document.getElementById('liveScore').textContent = `Score : ${score} / ${Q.length}`;
  }

  function nextQ() {
    if (!answered) {
      alert("Choisis une réponse avant de continuer.");
      return;
    }
    i++;
    if (i < Q.length) render();
    else finish();
  }

  function resetQuiz() {
    stopTimer();
    timer = 30 * 60;
    initQuiz();
  }

  function finish() {
    stopTimer();
    const total = Q.length;
    const pct = Math.round(100 * score / total);
    document.getElementById('bar').style.width = '100%';
    document.getElementById('meta').textContent = 'Terminé ✅';
    document.getElementById('quiz').innerHTML = `
      <div class="q">Bravo ! Tu as terminé le quiz.</div>
      <p class="score">Score final : <strong>${score}/${total}</strong> (${pct}%).</p>
      <p>Tu peux cliquer sur “Recommencer (nouvel ordre)” pour rejouer.</p>`;
    document.getElementById('next').disabled = true;
    document.getElementById('liveScore').textContent = `Score final : ${score} / ${total} (${pct}%)`;
  }

  function startTimer() {
    stopTimer();
    ticker = setInterval(() => {
      timer--;
      if (timer <= 0) {
        document.getElementById('timer').classList.add('timeup');
        document.getElementById('timer').textContent = "Temps écoulé";
        finish();
      } else {
        updateTimerUI();
      }
    }, 1000);
  }

  function stopTimer() {
    if (ticker) {
      clearInterval(ticker);
      ticker = null;
    }
  }

  function updateTimerUI() {
    const m = Math.floor(timer / 60);
    const s = timer % 60;
    document.getElementById('timer').textContent = `Temps restant : ${String(m).padStart(2, '0')}:${String(s).padStart(2, '0')}`;
  }

  // Démarrage
function askPassword() {
  const pass = prompt("Entrez le mot de passe pour accéder au quiz :");
  if (pass === "AF2025") {
    initQuiz();
  } else {
    alert("Mot de passe incorrect. Accès refusé.");
    document.getElementById('quiz').innerHTML = "<p style='color:red; text-align:center; font-weight:bold;'>Accès refusé : mot de passe incorrect.</p>";
    document.getElementById('next').disabled = true;
    document.getElementById('reset').disabled = true;
    document.getElementById('meta').textContent = '';
    document.getElementById('timer').textContent = '';
    document.getElementById('liveScore').textContent = '';
  }
}

// Démarrage avec demande de mot de passe
askPassword();

  initQuiz();
</script>

</body>
</html>
